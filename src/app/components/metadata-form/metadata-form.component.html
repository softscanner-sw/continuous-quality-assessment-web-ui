<!-- Form for collecting application metadata -->
<mat-card class="metadata-card">
  <mat-card-title>Application Metadata</mat-card-title>
  <mat-card-content>
    <form (ngSubmit)="onToggle()" #metadataForm="ngForm">
      <!-- Name field -->
      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Name</mat-label>
        <input matInput placeholder="your-web-app" [(ngModel)]="appMetadata.name" id="name" name="name" required>
      </mat-form-field>

      <!-- Codebase Path field -->
      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Codebase Path</mat-label>
        <input matInput placeholder="/path/to/your/codebase" [(ngModel)]="appMetadata.path" id="path" name="path"
          required>
      </mat-form-field>

      <!-- URL field -->
      <mat-form-field appearance="outline" class="full-width">
        <mat-label>URL</mat-label>
        <input matInput placeholder="http://your-web-app-url/" [(ngModel)]="appMetadata.url" id="url" name="url"
          required>
      </mat-form-field>

      <!-- Type select -->
      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Type</mat-label>
        <mat-select [(value)]="appMetadata.type" id="type" name="type" (selectionChange)="onTypeChange($event)"
          required>
          <mat-option value="">Select type</mat-option>
          <mat-option value="Frontend">Frontend</mat-option>
          <mat-option value="Backend">Backend</mat-option>
        </mat-select>
      </mat-form-field>

      <!-- Technology select -->
      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Technology</mat-label>
        <mat-select [(value)]="appMetadata.technology" id="technology" name="technology" required>
          <mat-option value="">Select technology</mat-option>
          <mat-option *ngFor="let tech of technologyOptions" [value]="tech.name">
            <img [src]="tech.logo" alt="{{tech.name}} logo" class="tech-logo">
            {{ tech.name }}
          </mat-option>
        </mat-select>
      </mat-form-field>

      <!-- Submit / Reset Button -->
      <div class="button-container">
        <button mat-raised-button color="primary" type="submit" [disabled]="metadataForm.invalid"
          [class.toggled]="toggleState">
          {{ toggleState ? 'Metadata Set (Click to Reset)' : 'Set Metadata' }}
        </button>
      </div>
    </form>
  </mat-card-content>
</mat-card>