<div class="goal-assessment-overview">
  <!-- Goal title and description -->
  <h3>{{ goal.name }}</h3>
  <p>{{ goal.description }}</p>

  <!-- Line chart displaying the global assessment score evolution over time -->
  <ngx-charts-line-chart
  [view]="[700, 400]"
  [scheme]="'cool'"
  [results]="getLineChartData()"
  [xAxis]="true"
  [yAxis]="true"
  [legend]="true"
  [showXAxisLabel]="true"
  [showYAxisLabel]="true"
  [autoScale]="true"
  xAxisLabel="Time"
  yAxisLabel="Global Score (%)"
  (select)="onGoalLegendClick($event)"
  ></ngx-charts-line-chart>

  <!-- Bar chart displaying the metrics contribution breakdown -->
    <ngx-charts-bar-horizontal
    [view]="[700, 300]"
    [scheme]="'cool'"
    [results]="getBarChartData()"
    [xAxis]="true"
    [yAxis]="true"
    [legend]="true"
    xAxisLabel="Metric Contribution (%)"
    yAxisLabel="Metric"
    [showXAxisLabel]="true"
    [showYAxisLabel]="true"
    (select)="onMetricLegendClick($event)"
  ></ngx-charts-bar-horizontal>

  <!-- Goal details component (shown when a goal is selected) -->
  <app-goal-details 
    *ngIf="goalSelected"
    [goal]="goal"
    (closeDetails)="closeGoalDetails()">
  </app-goal-details>

  <!-- Metric details component (shown when a metric is selected) -->
  <app-metric-details 
  *ngIf="metricSelected"
  [metric]="selectedMetric" 
  (closeDetails)="closeMetricDetails()">
</app-metric-details>
</div>
